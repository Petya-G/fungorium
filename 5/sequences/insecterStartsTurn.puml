@startuml InsecterStartsTurn

title Insecter starts turn

actor Controller
participant "ir : Insecter" as IR
participant "i : Insect" as I
participant "e : Effect" as E

activate Controller
Controller -> IR : onTurn()
activate IR

IR -> I : onTurn()
activate I

loop for(e : effects)
    I -> E : onTurn()
    activate E

    alt duration == 0
    E -> E : remove(i)

    I <--E
    deactivate E
end

IR <-- I
deactivate I

@enduml